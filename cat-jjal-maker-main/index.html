<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</title>
		<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
	</head>
	<style>
		body {
			text-align: center;
		}
		.main-card button {
			position: relative;
			left: -45px;
			bottom: 15px;
		}
		.favorites {
			list-style: none;
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			gap: 15px;
		}
	</style>
	<body>
		<div id="app"></div>
		<script type="text/babel">
			/*

			ì´ë²ˆ ê°•ì˜ì—ì„œëŠ”
			ë°°ì› ë˜ ê°œë…ì„ ì¡°í•©í•´ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ì!

			í•˜íŠ¸ ë²„íŠ¼ì„ ëˆŒë €ì„ë•Œ ê³ ì–‘ì´ë¦¬ìŠ¤íŠ¸ì— ê³ ì–‘ì´ê°€ í•˜ë‚˜ ë” ì¶”ê°€ë˜ê³ , Favoritesì— ê³ ì–‘ì´ ì´ë¯¸ì§€ê°€ í•˜ë‚˜ ë” ë³´ì´ê²Œ í•˜ì

			ì´ ì‘ì—…ì„ ìœ„í•´ì„œëŠ”??
			ìƒíƒœë¥¼ ì“°ëŠ”ë²•ì„ ì•Œì•„ì•¼í•˜ê³ 
			ë¦¬ìŠ¤íŠ¸ì—ì„œ ìƒíƒœ ì¡°ì‘í•˜ëŠ” ë²•ì„ ì•Œì•„ì•¼í•˜ê³ 
			ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸° ê°œë…ì„ ì•Œì•„ì•¼ í•œë‹¤.


			ì‘ì—…ìˆœì„œ
				1. í•˜íŠ¸ë¥¼ ëˆŒë €ì„ ë•Œ >> handleHeartClick >> í•¨ìˆ˜ë¥¼ ìƒìœ„ Appìœ¼ë¡œ ì˜®ê¸´ë‹¤
				2. ëŒì–´ì˜¬ë¦° í•¨ìˆ˜ë¥¼ propìœ¼ë¡œ ì „ë‹¬í•œë‹¤
				3. í•˜íŠ¸ í´ë¦­ì„ í–ˆì„ ë•Œ ë¦¬ìŠ¤íŠ¸ì— ê³ ì–‘ì´ í•˜ë‚˜ë¥¼ ë” ì¶”ê°€í•œë‹¤. >> ë¨¼ì € ê³ ì–‘ì´ ë¦¬ìŠ¤íŠ¸ë„ ë™ì ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ì•¼ í•˜ê¸°ë•Œë¬¸ì— ìƒíƒœë¡œ ê´€ë¦¬í•´ì•¼í•œë‹¤
				4. í•˜íŠ¸ë¥¼ ëˆŒë €ì„ ë•Œ ë¦¬ìŠ¤íŠ¸ì— ê³ ì–‘ì´ í•˜ë‚˜ë¥¼ ì¶”ê°€ >> ì´ˆê¸° ë°°ì—´ì— CAT3ë§Œ ì¶”ê°€í•œë‹¤

			*/

			function CatItem(props) {
				return (
					<li>
						<img src={props.img} title={props.title} style={{ width: "150px" }} />
					</li>
				);
			}

			function Favorites({ favorites }) {
				// 6. ì •ì ìœ¼ë¡œ ìƒì„±í•œ ê³ ì–‘ì´ ë¦¬ìŠ¤íŠ¸ ì œê±° 63ì¤„~67ì¤„ê¹Œì§€
				// const CAT1 = "https://cataas.com/cat/60b73094e04e18001194a309/says/react";
				// const CAT2 = "https://cataas.com//cat/5e9970351b7a400011744233/says/inflearn";
				// const CAT3 = "https://cataas.com/cat/595f280b557291a9750ebf65/says/JavaScript";
				// const cats = [CAT1, CAT2, CAT3];

				// 5. cats.mapì„ ë™ì ì¸ ë¦¬ìŠ¤íŠ¸ favoritesìœ¼ë¡œ ë³€ê²½í•˜ê¸°
				return (
					<ul className="favorites">
						{favorites.map((cat) => (
							<CatItem img={cat} key={cat} />
						))}
					</ul>
				);
			}

			// 2. ëŒì–´ì˜¬ë¦° handleHeartClickë¥¼ propìœ¼ë¡œ ì „ë‹¬í•œë‹¤
			const MainCard = ({ src, handleHeartClick }) => {
				/*
				1. ìƒìœ„ì¸ App ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœë¥¼ ëŒì–´ì˜¬ë¦°ë‹¤
				function handleHeartClick() {
					console.log("í•˜íŠ¸ ëˆŒë €ìŒ");
				}
				*/

				return (
					<div className="main-card">
						<img src={src} />
						<button onClick={handleHeartClick}>ğŸ¤</button>
					</div>
				);
			};

			const Title = (props) => {
				return <h1>{props.children}</h1>;
			};

			const Form = ({ handleFormSubmit }) => {
				return (
					<form onSubmit={handleFormSubmit}>
						<input type="text" name="name" placeholder="ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" />
						<button type="submit">ìƒì„±</button>
					</form>
				);
			};

			const App = () => {
				const [counter, setCounter] = React.useState(1);

				const CAT1 = "https://cataas.com/cat/60b73094e04e18001194a309/says/react";
				const CAT2 = "https://cataas.com//cat/5e9970351b7a400011744233/says/inflearn";
				const CAT3 = "https://cataas.com/cat/595f280b557291a9750ebf65/says/JavaScript";

				const [mainCat, setMainCat] = React.useState(CAT1);

				// 3. ê³ ì–‘ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒíƒœë¡œ ë§Œë“¤ê¸°
				const [favorites, setFavorites] = React.useState([CAT1, CAT2]);

				function handleFormSubmit(event) {
					event.preventDefault();
					setCounter(counter + 1);
					setMainCat(CAT2);
				}

				function handleHeartClick() {
					// 7. ê¸°ì¡´ì— ìˆëŠ” ë°°ì—´ì— CAT3ë§Œ ì¶”ê°€í•œë‹¤
					// JSë¬¸ë²•ìœ¼ë¡œ ì‚¬ìš©í•´ë³´ì
					// ê¸°ì¡´ì— ìˆëŠ” favorites ë°°ì—´ì„ í¼ì³ì„œ ì“´ë‹¤ìŒì— CAT3ë¥¼ ì¶”ê°€í•œë‹¤. ê·¸ëŸ¼ ê¸°ì¡´ favoritesì— CAT3ë¥¼ ë”í•´ì„œ ì €ì¥í•´ë¼ >> [CAT1,CAT2,CAT3]
					setFavorites([...favorites, CAT3]);
				}

				// 4. Favoritesì˜ favorites í•¨ìˆ˜ë¥¼ propìœ¼ë¡œ ë„˜ê²¨ì¤€ë‹¤.
				return (
					<div>
						<Title>{counter}ë²ˆì§¸ ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</Title>
						<Form handleFormSubmit={handleFormSubmit} />
						<MainCard src={mainCat} handleHeartClick={handleHeartClick} />
						<Favorites favorites={favorites} />
					</div>
				);
			};

			const ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤ = document.querySelector("#app");

			ReactDOM.render(<App />, ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤);
		</script>
	</body>
</html>
