<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</title>
		<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
	</head>
	<style>
		body {
			text-align: center;
		}
		.main-card button {
			position: relative;
			left: -45px;
			bottom: 15px;
		}
		.favorites {
			list-style: none;
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			gap: 15px;
		}
	</style>
	<body>
		<div id="app"></div>
		<script type="text/babel">
			function CatItem(props) {
				return (
					<li>
						<img src={props.img} title={props.title} style={{ width: "150px" }} />
					</li>
				);
			}

			function Favorites() {
				return (
					<ul className="favorites">
						<CatItem img="https://cataas.com/cat/60b73094e04e18001194a309/says/react" />
						<CatItem img="https://cataas.com//cat/5e9970351b7a400011744233/says/inflearn" />
						<CatItem img="https://cataas.com/cat/595f280b557291a9750ebf65/says/JavaScript" />
					</ul>
				);
			}

			const MainCard = ({ src }) => {
				function handleHeartClick() {
					console.log("í•˜íŠ¸ ëˆŒë €ìŒ");
				}

				function handleHeartMouseOver() {
					console.log("í•˜íŠ¸ ìŠ¤ì³ì§€ë‚˜ê°");
				}

				return (
					<div className="main-card">
						<img src={src} />
						<button onClick={handleHeartClick} onMouseOver={handleHeartMouseOver}>
							ğŸ¤
						</button>
					</div>
				);
			};

			const Title = (props) => {
				return <h1>{props.children}</h1>;
			};

			// 1. ì¹´ìš´í„° ìƒíƒœë¥¼ í¼ì— ë„£ê¸°
			// ì¹´ìš´í„° ìƒíƒœë¥¼ ì“°ê³  ì‹¶ì€ ê³µê°„ì´ app ì† Titleê³¼ Formì´ê¸° ë•Œë¬¸ì— ìì‹ì†ì— ìˆëŠ” counterë¥¼ ë¶€ëª¨ì¸ appìœ¼ë¡œ ì˜®ê²¨ì•¼í•œë‹¤.
			// ì§€ê¸ˆì€ appì´ ì•¨ë¦¬ë¨¼íŠ¸ë¡œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½í•´ì•¼í•œë‹¤.

			// 8. handleFormSubmit ì„ propsë¡œ ë„˜ê²¨ì¤€ë‹¤.
			const Form = ({ handleFormSubmit }) => {
				// 3. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ Appì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì¹´ìš´í„°ë¥¼ ì˜®ê¸´ë‹¤.
				// const [counter, setCounter] = React.useState(1);
				// console.log(counter);

				/* 
					6. 
					handleFormSubmit ìƒì„±ì„ ëˆŒë €ì„ë•Œ setCounter í•˜ë‚˜ì”© ì˜¬ë ¤ë¼ ë¼ê³  í•˜ëŠ”ë° formì•ˆì—ëŠ” counterê°€ ì—†ê¸°ë•Œë¬¸ì— ì˜¬ë¦´ ìˆ˜ ì—†ë‹¤ 
					ê·¸ëŸ¼ ì–´ë–»ê²Œ?
					 propsë¥¼ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.

					í•˜ì§€ë§Œ ì—¬ê¸°ì„œ handleFormSubmit í•¨ìˆ˜ ìì²´, ì¦‰ formì—ì„œ ì‘ì„±ëœ í•¨ìˆ˜ë¥¼ Appìœ¼ë¡œ ì˜®ê²¨ë³´ì

					function handleFormSubmit(event) {
						event.preventDefault();
						console.log("ì•¼ì˜¹");
						
						setCounter(counter + 1);
					}
				*/

				return (
					<form onSubmit={handleFormSubmit}>
						<input type="text" name="name" placeholder="ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" />
						<button type="submit">ìƒì„±</button>
					</form>
				);
			};

			// 2. ì•¨ë¦¬ë¨¼íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ appì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ë³´ì
			// const app = (
			// 	<div>
			// 		<Title>1ë²ˆì§¸ ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</Title>
			// 		<Form />
			// 		<MainCard src="https://cataas.com/cat/60b73094e04e18001194a309/says/react" />
			// 		<Favorites />
			// 	</div>
			// );

			const App = () => {
				// 4. ì¹´ìš´í„° Appì— ë„£ê¸°
				const [counter, setCounter] = React.useState(1);
				console.log(counter);

				// 7. Formì˜ handleFormSubmit í•¨ìˆ˜ ê°€ì ¸ì˜¤ê¸°
				function handleFormSubmit(event) {
					event.preventDefault();
					setCounter(counter + 1);
				}

				// 5. Titleì˜ 1ë²ˆì§¸ë¥¼ counterë¡œ ë³€ê²½í•œë‹¤.
				// 9. handleFormSubmit ë¥¼ handleFormSubmitë¡œ ë„˜ê²¨ì¤€ë‹¤
				return (
					<div>
						<Title>{counter}ë²ˆì§¸ ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</Title>
						<Form handleFormSubmit={handleFormSubmit} />
						<MainCard src="https://cataas.com/cat/60b73094e04e18001194a309/says/react" />
						<Favorites />
					</div>
				);
			};

			const ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤ = document.querySelector("#app");

			// 3. ìœ„ì—ì„œ ë§Œë“¤ Appì»´í¬ë„ŒíŠ¸ë¥¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ëŠ”ê²ƒê³¼ ë™ì¼í•˜ê²Œ <ì»´í¬ë„ŒíŠ¸ëª… />ë¡œ ê·¸ë ¤ì¤€ë‹¤
			ReactDOM.render(<App />, ì—¬ê¸°ë‹¤ê°€ê·¸ë ¤);
		</script>
	</body>
</html>

<!-- 
	formì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì¦‰ ìì‹ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œë§Œ ì“°ì´ë˜ ìƒíƒœë¥¼ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°™ì´ ì“°ê³  ì‹¶ì„ë•Œ
	ê·¸ ìƒíƒœë¥¼ ìœ„ë¡œ ëŒì–´ì˜¬ë¦¬ê²Œ ëœë‹¤. ì´ ê²ƒì„ ìƒíƒœ ëŒì–´ ì˜¬ë¦¬ê¸°(lifting state up) ë¼ê³  í•œë‹¤.

	ì¦‰ ìƒíƒœë¥¼ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„ ì–¸í•˜ë„ë¡ ë°”ê¾¸ê³  ìì‹ ì»´í¬ë„ŒíŠ¸ì— í”„ë¡­ìŠ¤ë¡œ ë„˜ê²¨ì¤€ë‹¤.
 -->
